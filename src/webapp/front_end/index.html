<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <!--  网页标题-->
  <title>Jianshu-like博客</title>
  <!--  网页logo-->
  <link rel="shortcut icon" href="../front_end/img/logo/log.png" >

  <!-- CSS  -->
  <link href="../front_end/css/prism.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">
  <link href="../front_end/css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="../front_end/css/custom/index_style.css" rel="stylesheet">
</head>
<body>

  <!--在整个系统中恒定不动的！即在登录成功后就不会改变的那种-->
  <nav class="light-green lighten-1" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="#" class="brand-logo">Jianshu-like Blog</a>

      <ul class="right hide-on-med-and-down">
        <li>
          <a href="#" class="height_67">
            <i class="material-icons prefix md-18" style="display: inline-block">loyalty</i>
            <span class="nav_a">发现</span>
          </a>
        </li>
        <li>
          <a href="#" class="height_67">
            <i class="material-icons prefix md-18" style="display: inline-block;">today</i>
            <span class="nav_a">关注</span>
          </a>
        </li>
        <li>
          <a href="#" class="nav_a height_67">
            <i class="material-icons prefix md-18" style="display: inline-block;">mail_outline</i>
            <span class="nav_a">消息</span>
          </a>
        </li>

        <!-- 顶部菜单 -->
        <li>
          <a id="top_menu" class='height_67 dropdown-button' href='#' data-activates="all_about_me_list"
              style="width:119px">
            <div>
              <i class="material-icons right md-24 inline_block_style">keyboard_arrow_down</i>
              <img src="../front_end/img/hajiwon_black.png" class="avatar_style head_avatar waves-circle materialboxed avatar" alt="下拉框"
                   data-caption="最爱的河智苑"/>
            </div>
          </a>
          <ul id='all_about_me_list' class='dropdown-content' style=" width: 160px;margin: 67px auto; overflow: visible">
            <li class="light-green-text valign-wrapper">
              <i class="material-icons prefix valign" style="display: inline-block;margin-left: 10px;">account_circle</i>
              <span style="margin-left: -3px; font-size: 20px;" class="black-text" onclick="loadPersonalMainPage($.cookie('userNo'));">我的主页</span>
            </li>
            <li class="light-green-text valign-wrapper">
              <i class="material-icons prefix valign" style="display: inline-block;margin-left: 10px;">collections</i>
              <span style="margin-left: -3px; font-size: 20px;" class="black-text">我的收藏</span>
            </li>
            <li class="light-green-text valign-wrapper">
              <i class="material-icons prefix valign" style="display: inline-block;margin-left: 10px;">center_focus_strong</i>
              <span style="margin-left: -3px; font-size: 20px;" class="black-text">我的关注</span>
            </li>
            <li class="light-green-text valign-wrapper">
              <i class="material-icons prefix valign" style="display: inline-block;margin-left: 10px;">help_outline</i>
              <span style="margin-left: -3px; font-size: 20px;" class="black-text">帮助与反馈</span>
            </li>
            <li class="light-green-text valign-wrapper">
              <i class="material-icons prefix valign" style="display: inline-block;margin-left: 10px;">settings</i>
              <span style="margin-left: -3px; font-size: 20px;" class="black-text">设置</span>
            </li>
            <li class="light-green-text valign-wrapper">
              <i class="material-icons prefix valign" style="display: inline-block;margin-left: 10px;">logout</i>
              <span style="margin-left: -3px; font-size: 20px;" class="black-text" onclick="logout()">退出</span>
            </li>
          </ul>
        </li>
      </ul>

      <!--侧边菜单-->
      <ul id="slide-out" class="side-nav">

        <li><div class="userView">
          <div class="background">
            <img src="../front_end/img/background.jpg" style="width: 100%; height: auto;" alt="background">
          </div>
          <a href="#"><img class="circle avatar" src="../front_end/img/hajiwon_black.png" alt="hajiwon"></a>
<!--          Hajiwon honey-->
<!--          <img src="../front_end/img/gender/female.png" style="width: 15px;height: auto;" alt="">-->
          <a href="#"><span id="my_username_and_gender" class="white-text name"></span></a>
          <a href="#"><span class="white-text email"></span></a>
        </div></li>

        <li><a href="#" class="waves-effect"><i class="material-icons">loyalty</i>发现</a></li>
        <li><a href="#" class="waves-effect"><i class="material-icons">center_focus_strong</i>关注</a></li>
        <li><a href="#" class="waves-effect"><i class="material-icons">mail</i>消息</a></li>

        <li><div class="divider"></div></li>

        <li>
          <ul class = "collapsible black-text" data-collapsible = "accordion">
            <li>
              <!--这里的添加图标导致打开折叠目录时会有残影 TODO 需要修复！-->
              <div class = "collapsible-header">我的<i class="material-icons right" style="user-select: none;">keyboard_arrow_down</i></div>
              <div class = "collapsible-body">
                <ul>
                  <li><a href="#" class="waves-effect"><i class="material-icons">account_circle</i>我的主页</a></li>
                  <li><a href="#" class="waves-effect"><i class="material-icons">collections</i>我的收藏</a></li>
                  <li><a href="#" class="waves-effect"><i class="material-icons">center_focus_strong</i>我的关注</a></li>
                </ul>
              </div>
            </li>
          </ul>
        </li>
        <li><a href="#" class="waves-effect"><i class="material-icons">help_outline</i>帮助与反馈</a></li>
        <li><a href="#" class="waves-effect"><i class="material-icons">settings</i>设置</a></li>
        <li><a href="#" class="waves-effect" onclick="logout()"><i class="material-icons">logout</i>退出</a></li>
      </ul>
      <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>

  <iframe class="container row" id="content" name="content" width="100%" scrolling="no" frameborder="no" onload="this.height=100"></iframe>

  <!--悬浮按钮-->
  <div class="fixed-action-btn horizontal click-to-toggle">
    <a class="btn-floating btn-large blue">
      <i class="material-icons">menu</i>
    </a>
    <ul>
      <li><a class="btn-floating red"><i class="material-icons">insert_chart</i></a></li>
      <li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
      <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
      <li><a class="btn-floating orange"><i class="material-icons">attach_file</i></a></li>
    </ul>
  </div>

  <!--  Scripts-->
  <script src="../front_end/js/jquery-2.1.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
  <script src="../front_end/js/init_home.js"></script>
  <script src="../front_end/js/jquery.cookie.js"></script>
  <script src="../front_end/js/customized/ajax.js"></script>
  <script src="../front_end/js/customized/index_nav_init.js"></script>

  <script type="text/javascript">
    //调整iframe宽度
    function reInitIframe(){
      const iframe = document.getElementById("content");
      try{
        const bHeight = iframe.contentWindow.document.body.scrollHeight;
        const dHeight = iframe.contentWindow.document.documentElement.scrollHeight;
        const height = Math.max(bHeight, dHeight);
        iframe.height = height;
        console.log('height : ' + height);
      }catch (ex){}
    }
    //每一秒刷新一次!
    window.setInterval("reInitIframe()", 1000);
  </script>
  </body>
</html>
